<div class="container category-page">
  <div class="container-inner">
    <div class="row clearfix">
      <div class="column column--sm-8">
        {{breadcrumbs}}
      </div>
      <div class="column column--sm-4">
        {{!-- {{search class='search-box--small' submit=false placeholder=settings.search_placeholder}} --}}
             <div class="category_search_input_form"></div>
      </div>
    </div>

<<<<<<< HEAD
<!--  <script type="text/javascript">
=======
 <script type="text/javascript">
>>>>>>> 36e0bca9382d2b53e24414367b17228cdeb5653e
     var language = LotusUtils.getLocale();
var hiddenSearchQueryDom = document.querySelector("#hidden_query")
var searchparams =  hiddenSearchQueryDom ?.innerText
  document.addEventListener('DOMContentLoaded', function() {
    // 获取搜索框元素
    var category_search_input_form = document.getElementsByClassName('category_search_input_form')[0];
    var html = `<form role="search" class="search-box--small" data-search="" data-instant="true" autocomplete="off" action="/hc/${language}/search" accept-charset="UTF-8" method="get">`
    html+=`
     <input name="utf8" type="hidden" value="✓" autocomplete="off">
     <input name="filter_by" type="hidden" value="knowledge_base" autocomplete="off">
     <input type="search" name="query" id="query" value="${searchparams?searchparams:''}" placeholder="${language == 'zh-cn' ? '请输入您的问题...' : 'Type your question here...' }" autocomplete="off" aria-label="search_placeholder">
    `
    html+='</form>'
    category_search_input_form.innerHTML= html
  });
<<<<<<< HEAD
</script> -->
    <div class="page-header page-header--center page-header--title">
=======
</script>
    <div class="page-header page-header--center">
>>>>>>> 36e0bca9382d2b53e24414367b17228cdeb5653e
      <h1 class ="page_header-h1">
      </h1>
      {{#if category.description}}
        <p class="page-description">{{category.description}}</p>
      {{/if}}
    </div>
<script>
  var title = {{json_stringify category.name}};
  var newTitle = title.replace(/[\(\（][^\(\（\)\）]*[\)\）]/g, '').replace(/[\[\【][^\[\【\]\】]*[\]\】]/g, '')
  var page_header_h1 = document.getElementsByClassName('page_header-h1')[0]
  page_header_h1.innerText = newTitle
</script>
    {{#if sections}}
      <div class="row section-tree clearfix" id="main-content">
        {{#each sections}}
<<<<<<< HEAD
          <section class="column column--sm-6 column--md-4 section around-gap">
            <h3 class="section__title">
              <a style="color: #0E0E0E;" class="section__title-link" href="{{url}}">{{name}}</a>
=======
          <section class="column column--sm-6 column--md-4 section">
            <h3 class="section__title">
              <a class="section__title-link" href="{{url}}">{{name}}</a>
>>>>>>> 36e0bca9382d2b53e24414367b17228cdeb5653e
            </h3>

            {{#if sections}}
              <ul class="section-list-compact">
                {{#each sections}}
                  <li class="section-list-compact__item">
                    <span class="fas fa-folder"></span>
<<<<<<< HEAD
                    <a class="section-list-compact__link extra-font--style"
=======
                    <a class="section-list-compact__link"
>>>>>>> 36e0bca9382d2b53e24414367b17228cdeb5653e
                       href="{{url}}">{{name}}</a>
                  </li>
                {{/each}}
              </ul>
            {{/if}}

            {{#if articles}}
              <ul class="article-list">
                {{#each articles}}
                  <li class="article-list-item" >
                    <a class="article-list-item__link" href="{{url}}">{{title}}</a>
                  </li>
                {{/each}}
              </ul>
              {{#if more_articles}}
<<<<<<< HEAD
                <a href="{{url}}" class="btn btn--default see-all-articles extra-btn">
=======
                <a href="{{url}}" class="btn btn--default see-all-articles">
>>>>>>> 36e0bca9382d2b53e24414367b17228cdeb5653e
                  {{t 'show_all_articles' count=article_count}}
                </a>
              {{/if}}
            {{else}}
              <p>
                <i><a href="{{url}}">{{t ''}}</a></i>
              </p>
            {{/if}}
          </section>
        {{/each}}
      </div>
    {{else}}
      <div class="column column--xs-12" id="main-content">
        <p>
          <i><a href="{{category.url}}">{{t ''}}</a></i>
        </p>
      </div>
    {{/if}}
  </div>
</div>
<div>
  <div class="home_chat">
    <div class="search-results-chat">
      <div class="chat_gpt_content">
        <div class="oldChatRequest "></div>
      </div>
      <div>
        <div style="display: flex;margin:12px 20px;">
        <div class="search_results_customer_btn">
          <span class="search_results_customer_btn_icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" viewBox="0 0 20 21" fill="none">
              <path fill-rule="evenodd" clip-rule="evenodd" d="M9.91666 2.375C6.33329 2.375 3.40293 4.61648 3.04629 7.54167H2.74999C1.56032 7.54167 0.541662 8.56032 0.541662 9.75V11.25C0.541662 12.4397 1.56032 13.4583 2.74999 13.4583H3.66666C4.10968 13.4583 4.375 13.1029 4.375 12.75V8.25C4.375 5.78087 6.93094 3.70833 9.99999 3.70833C13.1525 3.70833 15.625 5.69762 15.625 8.25V12.6667C15.625 15.1358 13.069 17.2083 9.99999 17.2083C9.78331 17.2083 9.60507 17.2735 9.48095 17.3976C9.35683 17.5217 9.29166 17.7 9.29166 17.9167C9.29166 18.3597 9.64714 18.625 9.99999 18.625C13.4998 18.625 16.4304 16.3839 16.7048 13.4583H17.25C18.4421 13.4583 19.3737 12.4376 19.4583 11.253V9.75C19.4583 8.56032 18.4397 7.54167 17.25 7.54167H16.7025C16.2632 4.70034 13.3358 2.375 9.91666 2.375ZM1.87499 9.75C1.87499 9.27301 2.27301 8.875 2.74999 8.875H2.95833V12.125H2.74999C2.27301 12.125 1.87499 11.727 1.87499 11.25V9.75ZM16.875 12.125V8.875H17.1667C17.6436 8.875 18.0417 9.27301 18.0417 9.75V11.25C18.0417 11.727 17.6436 12.125 17.1667 12.125H16.875Z" fill="#4669BE"/>
              <path d="M12.5833 13.5C12.9167 13.3333 13 13 12.8333 12.6667C12.6667 12.3333 12.3333 12.25 12 12.4167C10.6667 13.1667 9.33333 13.1667 8 12.4167C7.66667 12.25 7.33333 12.3333 7.16667 12.6667C7 13 7.08333 13.3333 7.41667 13.5C8.25 13.9167 9.16667 14.1667 10 14.1667C10.8333 14.1667 11.75 13.9167 12.5833 13.5Z" fill="#4669BE"/>
              <path fill-rule="evenodd" clip-rule="evenodd" d="M11.9627 12.3421C12.1441 12.2515 12.3323 12.2255 12.5021 12.2741C12.673 12.3229 12.8154 12.4444 12.9079 12.6294C12.9985 12.8108 13.0245 12.999 12.976 13.1687C12.9271 13.3397 12.8056 13.4821 12.6206 13.5745C11.7783 13.9957 10.8489 14.25 10 14.25C9.15109 14.25 8.22169 13.9957 7.3794 13.5745C7.1944 13.4821 7.07287 13.3397 7.02404 13.1687C6.97553 12.999 7.00146 12.8108 7.09213 12.6294C7.18463 12.4444 7.32703 12.3229 7.49794 12.2741C7.66772 12.2255 7.85593 12.2515 8.03727 12.3421L8.0409 12.344C9.34887 13.0797 10.6512 13.0798 11.9591 12.3441L11.9627 12.3421ZM8 12.4167C9.33333 13.1667 10.6667 13.1667 12 12.4167C12.3333 12.25 12.6667 12.3333 12.8333 12.6667C13 13 12.9167 13.3333 12.5833 13.5C11.75 13.9167 10.8333 14.1667 10 14.1667C9.16667 14.1667 8.25 13.9167 7.41667 13.5C7.08333 13.3333 7 13 7.16667 12.6667C7.33333 12.3333 7.66667 12.25 8 12.4167Z" fill="#4669BE"/>
            </svg>
          </span>
          <span class="search_results_customer_text">Live chat</span>
        </div>
        <div class="chat_gpt_clear_btn">
          <span class="search_results_customer_btn_icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="21" viewBox="0 0 20 21" fill="none">
              <path d="M16.5254 6.67773H12.2949V3.59961C12.2949 3.17578 11.9609 2.83398 11.5352 2.83398H8.4375C8.01367 2.83398 7.67773 3.17578 7.67773 3.59961V6.67773H3.44727C3.02344 6.67773 2.68359 6.96094 2.68359 7.38672L2.67773 10.1406C2.67773 10.5645 3.14258 10.9141 3.56836 10.9141H3.8418V14.7559C3.8418 15.2188 3.44531 17.0625 3.44531 17.0625C3.44531 17.4863 3.80078 17.832 4.23828 17.832H15.7363C16.1758 17.832 16.5293 17.4883 16.5293 17.0625C16.5293 17.0625 16.1328 15.2266 16.1328 14.7559V10.9141H16.4043C16.8281 10.9141 17.2891 10.4414 17.2891 10.0156V7.38672C17.2891 6.96094 16.9512 6.67773 16.5254 6.67773ZM15.2715 16.6758H13.4453V14.3359C13.4453 14.1426 13.1895 13.9863 12.8711 13.9863C12.5547 13.9863 12.2969 14.1426 12.2969 14.3359V16.6758H10.7578V14.3359C10.7578 14.1426 10.5 13.9863 10.1797 13.9863C9.85938 13.9863 9.60156 14.1426 9.60156 14.3359V16.6758H8.0625V14.3359C8.0625 14.1426 7.80664 13.9863 7.48828 13.9863C7.17187 13.9863 6.91406 14.1426 6.91406 14.3359V16.6758H4.70312C4.83789 16.0078 4.99414 15.1426 4.99414 14.7559V10.9121H14.9805V14.7539C14.9805 15.1445 15.1367 16.0078 15.2715 16.6758ZM16.1367 9.75977H3.83398L3.83789 7.83203H8.83398V3.98828H11.1426V7.83203H16.1387V9.75977H16.1367Z" fill="#4669BE"/>
            </svg>
          </span>
          <span class="search_results_customer_text">Reset</span>
        </div>
      </div>
      <div class="chat_gpt_search">
        <div class="chat_gpt_input_content">
         <div class="chat_gpt_input" contenteditable="plaintext-only" data-placeholder="Enter something..."></div>
          <div class="chat_gpt_maxlength_tip">你的输入已达到200字</div>
          <div class="chat_gpt_send_btn">
              <span class="chat_gpt_send_icon">
                <svg class="chat_gpt_send_icon_none" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
                  <g clip-path="url(#clip0_1392_564)">
                    <path d="M2.73229 0.151008C2.99168 -0.0359494 3.33748 -0.0504994 3.61166 0.114007L15.6117 7.31401C15.8526 7.45859 16.0001 7.71899 16.0001 8C16.0001 8.28101 15.8526 8.54142 15.6117 8.686L3.61166 15.886C3.33748 16.0505 2.99168 16.036 2.73229 15.849C2.4729 15.662 2.34975 15.3386 2.41911 15.0265L3.80277 8.8L8.00002 8.8C8.44185 8.8 8.80002 8.44183 8.80002 8C8.80002 7.55817 8.44185 7.2 8.00002 7.2L3.80277 7.2L2.41911 0.973546C2.34975 0.661417 2.4729 0.337965 2.73229 0.151008Z" fill="#BABEC3"/>
                  </g>
                  <defs>
                    <clipPath id="clip0_1392_564">
                      <rect width="16" height="16" fill="white"/>
                    </clipPath>
                  </defs>
                </svg>
                <svg class="chat_gpt_send_icon_have" xmlns="http://www.w3.org/2000/svg" width="16" height="17" viewBox="0 0 16 17" fill="none">
                  <g clip-path="url(#clip0_1677_293)">
                    <path d="M2.73217 0.651008C2.99156 0.464051 3.33736 0.449501 3.61153 0.614007L15.6115 7.81401C15.8525 7.95859 15.9999 8.21899 15.9999 8.5C15.9999 8.78101 15.8525 9.04142 15.6115 9.186L3.61153 16.386C3.33736 16.5505 2.99156 16.536 2.73217 16.349C2.47278 16.162 2.34963 15.8386 2.41899 15.5265L3.80264 9.3L7.9999 9.3C8.44173 9.3 8.7999 8.94183 8.7999 8.5C8.7999 8.05817 8.44173 7.7 7.9999 7.7L3.80264 7.7L2.41899 1.47355C2.34963 1.16142 2.47278 0.837965 2.73217 0.651008Z" fill="#222222"/>
                  </g>
                  <defs>
                    <clipPath id="clip0_1677_293">
                      <rect width="16" height="16" fill="white" transform="translate(0 0.5)"/>
                    </clipPath>
                  </defs>
                </svg>
              </span>
          </div>
        </div>
      </div>
      </div>
    </div>
  </div>
  <div class="article_gpt_open_icon">
    <img src="https://qiyukf.nosdn.127.net/sdk/res/kefu/custom/5.png" alt="">
  </div>
  <div class="article_gpt_close_icon">
    <img src="https://cdn.shoplazza.com/e2c9bc74cda8b1d6c131c7b9958f6d7f.png" alt="">
  </div>
 </div>

<style>
  .lt-toc--item-h1 {
    display: none;
}
  td p {
    margin-bottom: 0;
}

</style>
<script>
  $('body').on('click', '.article_gpt_open_icon', function(e) {
    console.log(element)
     var element = e.target; 
     document.getElementsByClassName('article_gpt_open_icon')[0].style.display='none';
     document.getElementsByClassName('article_gpt_close_icon')[0].style.display='block';
     document.getElementsByClassName('home_chat')[0].style.display='block';
     var chat_gpt_content_element = document.getElementsByClassName('chat_gpt_content')[0];
            chat_gpt_content_element.scrollTop = chat_gpt_content_element.scrollHeight;
  })
  $('body').on('click', '.article_gpt_close_icon', function(e) {
     var element = e.target; 
     document.getElementsByClassName('article_gpt_close_icon')[0].style.display='none';
     document.getElementsByClassName('article_gpt_open_icon')[0].style.display='block';
     document.getElementsByClassName('home_chat')[0].style.display='none';

  })
     var language = LotusUtils.getLocale();
    $('body').on('click', '.unLikePostionRegBtn', function(e) {
        var element = e.target; 
        element.parentElement.getElementsByClassName('unLikePostionRejBtn')[0].style.borderColor = '#E3E3E3'
        element.style.background = '#E7F0FF'
        element.style.borderColor = '#4669BE'
        var siblings = Array.from(element.parentNode.childNodes).filter(function(node) {
            return node.nodeType === 1 && node !== element;
        });
        siblings[0].style.background = '#fff'
		element.parentElement.setAttribute('active','yes')
    });
    $('body').on('click', '.unLikePostionRejBtn', function(e) {
        var element = e.target; 
        element.parentElement.getElementsByClassName('unLikePostionRegBtn')[0].style.borderColor = '#E3E3E3'
        element.style.background = '#E7F0FF'
        element.style.borderColor = '#4669BE'
        var siblings = Array.from(element.parentNode.childNodes).filter(function(node) {
            return node.nodeType === 1 && node !== element;
        });
		element.parentElement.setAttribute('active','no')
        siblings[0].style.background = '#fff'
    });
    
    $('body').on('click', '.unLikePostionSubmitBtn', function(e) {
        var element = e.target; 
        while (element) {
        if (element.classList.contains('unLikePosition')) {
            break;
        }
        element = element.parentNode;
        }
		var divElement = document.createElement('div');
		divElement.style.display = 'flex'
		divElement.style.justifyContent = 'end'
		divElement.style.color = '#6e6e6e'
		divElement.style.fontSize = '14px'
		divElement.style.fontWeight = '400'
		divElement.style.marginTop = '8px'
		divElement.innerHTML = language == 'zh-cn'?'感谢您的反馈':'Thanks for your feedback!'
		var elementParent = element.parentNode
		elementParent.parentNode.insertBefore(divElement, elementParent.nextSibling)
        element.style.display = 'none';
        console.log(elementParent)
        elementParent.parentNode.getElementsByClassName('likeAndDislikeContent')[0].style.display = 'none'
        const question_type =  element.getElementsByClassName('unLikePostionSubmit')[0].parentElement.getElementsByClassName('unLikePostionBtnList')[0].getAttribute('active')
        console.log(1111,element)
        const note =  element.getElementsByClassName('myTextarea')[0].value
        sa.track('aigc_feedback', {value_type:'no',question_type:question_type,note:note,time:new Date().getTime()});
    });
    $('body').on('click', '.ChatLikeBtn', function(e) {
        var element = e.target; 
        while (element) {
        if (element.classList.contains('likeAndDislike')) {
            break;
        }
        element = element.parentNode;
        element.style.display = 'none';
        }
		var divElement = document.createElement('div');
		divElement.style.display = 'flex'
		divElement.style.justifyContent = 'end'
		divElement.style.color = '#6e6e6e'
		divElement.style.fontSize = '14px'
		divElement.style.fontWeight = '400'
		divElement.style.marginTop = '8px'
		divElement.innerHTML = language == 'zh-cn'?'感谢您的反馈':'Thanks for your feedback!'
		var elementParent = element.parentNode
		elementParent.parentNode.insertBefore(divElement, elementParent)
        e.currentTarget.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M10.639 4.39735C10.7776 4.12016 11.0609 3.94507 11.3708 3.94507C12.2555 3.94507 13.1039 4.29651 13.7295 4.92208C14.3551 5.54765 14.7065 6.3961 14.7065 7.28079V8.35076H18.9234C19.218 8.35084 19.5095 8.4136 19.778 8.53488C20.0465 8.65615 20.2861 8.83316 20.481 9.05415C20.6758 9.27515 20.8214 9.53507 20.9081 9.81664C20.9947 10.098 21.0205 10.3945 20.9838 10.6865M20.9838 10.6865L20.0397 18.2391C19.9765 18.741 19.7323 19.2032 19.353 19.5378C18.9737 19.8724 18.4853 20.0571 17.9796 20.0573H4.44757C4.06365 20.0573 3.69545 19.9048 3.42398 19.6333C3.15251 19.3618 3 18.9936 3 18.6097V11.6865C3 11.3026 3.15251 10.9344 3.42398 10.6629C3.69545 10.3914 4.06365 10.2389 4.44757 10.2389H7.71821L10.639 4.39735M7.40569 11.8753V18.4209H4.63636V11.8753H7.40569Z" fill="#0E0E0E"/>
</svg>`
                sa.track('aigc_valuation', {value_type:'yes',time:new Date().getTime()});
    });

    $('body').on('click', '.ChatUnLikeBtn', function(e) {
        var element = e.target; 
        var element1= element
        var element2= element
        while (element1) {
        if (element1.classList.contains('likeAndDislike')) {
            break;
        }
        element1 = element1.parentNode;
        }
        element1.style.pointerEvents = 'none';
        while (element2) {
        if (element2.classList.contains('chat_request')) {
            break;
        }
        element2 = element2.parentNode;
        }
        element2.getElementsByClassName('unLikePosition')[0].style.display = 'block'
        e.currentTarget.innerHTML = `<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.90734 13.0684C8.81495 13.2532 8.62607 13.37 8.41947 13.37C7.82968 13.37 7.26404 13.1357 6.847 12.7186C6.42995 12.3016 6.19566 11.7359 6.19566 11.1461V10.4328H3.3844C3.18798 10.4328 2.99368 10.3909 2.81468 10.3101C2.63567 10.2292 2.47592 10.1112 2.34603 9.9639C2.21613 9.81657 2.11907 9.64329 2.06129 9.45557C2.00355 9.26802 1.98634 9.07034 2.01079 8.87564M2.01079 8.87564L2.64018 3.84057C2.68233 3.50603 2.84517 3.19784 3.09802 2.97477C3.35088 2.75171 3.67644 2.62858 4.01363 2.62849H13.035C13.2909 2.62849 13.5364 2.73016 13.7173 2.91114C13.8983 3.09212 14 3.33758 14 3.59353V8.20901C14 8.46496 13.8983 8.71042 13.7173 8.8914C13.5364 9.07238 13.2909 9.17406 13.035 9.17406H10.8545L8.90734 13.0684M11.0629 8.08315V3.71939H12.9091V8.08315H11.0629Z" fill="#0E0E0E"/>
</svg>`
        sa.track('aigc_valuation', {value_type:'no',time:new Date().getTime()});;
    });
    $(document).ready(function() {
        // 在这里编写你的代码，它将在页面加载完成后立即触发
        // 设置localStorage
         
          if(language == 'zh-cn') {
            document.getElementsByClassName('search_results_customer_text')[0].innerHTML = '人工客服'
            document.getElementsByClassName('search_results_customer_text')[1].innerHTML = '重置'
            document.getElementsByClassName('chat_gpt_input')[0].setAttribute('data-placeholder', '请输入您的问题...')

            
          }else {
            document.getElementsByClassName('search_results_customer_text')[0].innerHTML = 'Live chat'
            document.getElementsByClassName('search_results_customer_text')[1].innerHTML = 'Reset'
            document.getElementsByClassName('chat_gpt_input')[0].setAttribute('data-placeholder', 'Enter something...')

          }
        const saHelpCenterData = JSON.parse(sessionStorage.getItem("saHelpCenter"));
        saHelpCenterData.isAigcCustomerService = false
        saHelpCenterData.isActionChangeChatPage = false
        if(!saHelpCenterData.ChatGptOptions){
         saHelpCenterData.ChatGptOptions = 0
        }
		var setrtChatGptTime = saHelpCenterData.setrtChatGptTime
        sessionStorage.setItem("saHelpCenter", JSON.stringify(saHelpCenterData));
		if(saHelpCenterData.ChatGptOptions!=='stop' && !isNaN(saHelpCenterData.ChatGptOptions)){
		setTimeout(()=>{
				const saHelpCenterData = JSON.parse(sessionStorage.getItem("saHelpCenter"));
				var ChatGptOptions = saHelpCenterData.ChatGptOptions
				if(ChatGptOptions!=='stop' && !isNaN(ChatGptOptions)) {
						sa.track('aigc_enquiries', {frequency:ChatGptOptions,start_time:setrtChatGptTime,end_time:new Date().getTime(),time:new Date().getTime()});
						saHelpCenterData.ChatGptOptions = 'stop'
					}
			},10*60*1000)
	}
    });
        {{!-- 获取帮助中心历史的问题以及答案 --}}
    var isSearchChat = false
    var shopChatOptions = false
	 var chat_gpt_content_obj = JSON.parse(sessionStorage.getItem('chat_local_questions'))
     console.log('chat_gpt_content_obj',chat_gpt_content_obj)
        if(!shopChatOptions) {
    if (chat_gpt_content_obj) {
        chat_gpt_content_obj.forEach((item, index) => {
            if (item.ruler == 'chat_gpt_role') {
                $('.oldChatRequest').append(`<div class="chat_request">
                    <div class="chat_request_body">
                            <div class="chat_request_content">
                                <div class="chat_request_content_header">
                                    <div class="chat_request_icon"><img
                                    src="https://img.staticdj.com/oss/operation/09c141bdbd585b7f552bece8bbf25eb0.png" alt="">
                                    </div>
                                    <div class="chat_request_info">
                                        <span class="chat_request_msg">${decodeURIComponent(item.info)}</span>
                                    </div>
                                </div>
                                
                                </div>
                                <div class="unLikePosition" style="display: none;">
                                    <div class="unLikePostionBtnList">
                                        <div class="unLikePostionRegBtn">${language == 'zh-cn'?'问题已解决':'Problem solved'}</div>
                                        <div class="unLikePostionRejBtn">${language == 'zh-cn'?'问题未解决':'Problem not solved'}</div>
                                    </div>
                                    <div class="unLikePostionText">
                                        <textarea class="myTextarea" id="myTextarea" style="color: #000;" rows="4" cols="50" placeholder =" ${language == 'zh-cn'?'留言建议':'Message suggestions'}"></textarea>
                                    </div>
                                    <div class="unLikePostionTextLine"></div>
                                    <div class="unLikePostionSubmit">
                                        <div class="unLikePostionSubmitBtn">${language == 'zh-cn'?'提交':'Submit'}</div>
                                    </div>
                                </div>
                    </div>
  
  <div class="likeAndDislikeContent">
    <div class="likeAndDislike">
        <span class="ChatLikeBtn UPLike">
            <svg class="UPLike" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 20 20" fill="none">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M8.86582 3.6645C8.98132 3.43351 9.21741 3.2876 9.47566 3.2876C10.2129 3.2876 10.9199 3.58046 11.4413 4.10177C11.9626 4.62308 12.2554 5.33012 12.2554 6.06736V6.95901H15.7695C16.015 6.95908 16.2579 7.01138 16.4817 7.11244C16.7054 7.2135 16.9051 7.36101 17.0675 7.54517C17.2298 7.72933 17.3512 7.94593 17.4234 8.18058C17.4956 8.41501 17.5171 8.66211 17.4865 8.90549M17.4865 8.90549L16.6998 15.1993C16.6471 15.6175 16.4435 16.0027 16.1275 16.2816C15.8114 16.5604 15.4044 16.7143 14.983 16.7144H3.70631C3.38637 16.7144 3.07955 16.5873 2.85332 16.3611C2.62709 16.1349 2.5 15.8281 2.5 15.5081V9.73877C2.5 9.41884 2.62709 9.11201 2.85332 8.88579C3.07954 8.65956 3.38637 8.53247 3.70631 8.53247H6.43184L8.86582 3.6645M6.17141 9.8961V15.3508H3.86364V9.8961H6.17141Z" fill="#8E8E8E"/>
            </svg>
        </span>
        <span class="ChatUnLikeBtn DOWNLike">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.90734 13.0684C8.81495 13.2532 8.62607 13.37 8.41947 13.37C7.82968 13.37 7.26404 13.1357 6.847 12.7186C6.42995 12.3016 6.19566 11.7359 6.19566 11.1461V10.4328H3.3844C3.18798 10.4328 2.99368 10.3909 2.81468 10.3101C2.63567 10.2292 2.47592 10.1112 2.34603 9.9639C2.21613 9.81657 2.11907 9.64329 2.06129 9.45558C2.00355 9.26803 1.98634 9.07035 2.01079 8.87564M2.01079 8.87564L2.64018 3.84057C2.68233 3.50603 2.84517 3.19784 3.09802 2.97478C3.35088 2.75172 3.67644 2.62859 4.01363 2.62849H13.035C13.2909 2.62849 13.5364 2.73016 13.7173 2.91114C13.8983 3.09213 14 3.33759 14 3.59353V8.20902C14 8.46496 13.8983 8.71043 13.7173 8.89141C13.5364 9.07239 13.2909 9.17406 13.035 9.17406H10.8545L8.90734 13.0684M11.0629 8.08315V3.7194H12.9091V8.08315H11.0629Z" fill="#8E8E8E"/>
</svg>
        </span>
    </div>
  </div>
  
</div>`)
            } else if (item.ruler == 'admin_role') {
                $('.oldChatRequest').append(`<div class="chat_response">
  <div class="chat_response_icon"></div>
  <span class="chat_response_msg">${item.info}</span>
</div>`)
            }
            if(index == chat_gpt_content_obj.length-1) {
              setTimeout(()=>{
          var chat_gpt_content_element = document.getElementsByClassName('chat_gpt_content')[0];
            chat_gpt_content_element.scrollTop = chat_gpt_content_element.scrollHeight;
              },1000)
             
            }
        })
    }
    shopChatOptions = true
        }
    var test = function (item) {
        if (isSearchChat) return;
                if(window.main_search) return;
            
            var hiddenSearchQueryDom = document.getElementsByClassName("chat_gpt_input")[0]
            var searchparams =  item?item:hiddenSearchQueryDom?.innerText
            if (searchparams) {
                hiddenSearchQueryDom.innerText = ''
                let chat_str = ''
                $('.last_foot_response_btn').last().remove()
                var language = LotusUtils.getLocale();
                var source = new EventSource(`https://langouste.shoplazza.com/api/langouste/gpt/stream/message?prompt=${searchparams}&locale=${language}`);
                isSearchChat = true
                var chat_gpt_clear_btn_disabled = document.getElementsByClassName('chat_gpt_clear_btn')[0];
                chat_gpt_clear_btn_disabled.disabled = true;
                var chat_gpt_content_obj = JSON.parse(sessionStorage.getItem('chat_local_questions'))
                if (chat_gpt_content_obj) {
                    chat_gpt_content_obj.push({
                        ruler: 'admin_role',
                        info: searchparams
                    })
                } else {
                    chat_gpt_content_obj = []
                    chat_gpt_content_obj.push({
                        ruler: 'admin_role',
                        info: searchparams
                    })
                }
                sessionStorage.setItem('chat_local_questions', JSON.stringify(chat_gpt_content_obj));
                $('.chat_gpt_content').append(`<div class="chat_response">
    <div class="chat_response_icon"></div>
    <span class="chat_response_msg">${searchparams}</span>
  </div>`)
            var chat_gpt_content_element = document.getElementsByClassName('chat_gpt_content')[0];
            chat_gpt_content_element.scrollTop = chat_gpt_content_element.scrollHeight;
                $('.chat_gpt_content').append(`<div class="chat_request">
                    <div class="chat_request_body">
                        <div class="chat_request_content">
                            <div class="chat_request_content_header">
                                <div class="chat_request_icon"><img
                                    src="https://img.staticdj.com/oss/operation/09c141bdbd585b7f552bece8bbf25eb0.png" alt="">
                                </div>
                                <div class="chat_request_info">
                                    <span class="chat_request_msg"></span>
                                    <div class="loding_request">
                                        <span class="loding_request_icon_1">
                                          <svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 8 8" fill="none">
                                            <circle cx="4" cy="4" r="4" fill="#AFAFAF"/>
                                          </svg>
                                        </span>
                                        <span class="loding_request_icon_2">
                                          <svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 8 8" fill="none">
                                            <circle cx="4" cy="4" r="4" fill="#C7C7C7"/>
                                          </svg>
                                        </span>
                                        <span class="loding_request_icon_3">
                                          <svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" viewBox="0 0 8 8" fill="none">
                                            <circle cx="4" cy="4" r="4" fill="#D9D9D9"/>
                                          </svg>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        
                    </div>
                    <div class="unLikePosition" style="display: none;">
                            <div class="unLikePostionBtnList">
                                <div class="unLikePostionRegBtn">${language == 'zh-cn'?'问题已解决':'Problem solved'}</div>
                                <div class="unLikePostionRejBtn">${language == 'zh-cn'?'问题未解决':'Problem not solved'}</div>
                            </div>
                            <div class="unLikePostionText">
                                <textarea class="myTextarea" id="myTextarea" style="color: #000;" rows="4" cols="50" placeholder='${language == "zh-cn"?"留言建议":"Message suggestions"}'></textarea>
                            </div>
                            <div class="unLikePostionTextLine"></div>
                            <div class="unLikePostionSubmit">
                                <div class="unLikePostionSubmitBtn">${language == 'zh-cn'?'提交':'Submit'}</div>
                            </div>
                        </div>
                </div>
                <div class="likeAndDislikeContent">
                        <div class="likeAndDislike">
                            <span class="ChatLikeBtn UPLike">
                                <svg class="UPLike" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 20 20" fill="none">
                                    <path fill-rule="evenodd" clip-rule="evenodd" d="M8.86582 3.6645C8.98132 3.43351 9.21741 3.2876 9.47566 3.2876C10.2129 3.2876 10.9199 3.58046 11.4413 4.10177C11.9626 4.62308 12.2554 5.33012 12.2554 6.06736V6.95901H15.7695C16.015 6.95908 16.2579 7.01138 16.4817 7.11244C16.7054 7.2135 16.9051 7.36101 17.0675 7.54517C17.2298 7.72933 17.3512 7.94593 17.4234 8.18058C17.4956 8.41501 17.5171 8.66211 17.4865 8.90549M17.4865 8.90549L16.6998 15.1993C16.6471 15.6175 16.4435 16.0027 16.1275 16.2816C15.8114 16.5604 15.4044 16.7143 14.983 16.7144H3.70631C3.38637 16.7144 3.07955 16.5873 2.85332 16.3611C2.62709 16.1349 2.5 15.8281 2.5 15.5081V9.73877C2.5 9.41884 2.62709 9.11201 2.85332 8.88579C3.07954 8.65956 3.38637 8.53247 3.70631 8.53247H6.43184L8.86582 3.6645M6.17141 9.8961V15.3508H3.86364V9.8961H6.17141Z" fill="#8E8E8E"/>
                                </svg>
                            </span>
                            <span class="ChatUnLikeBtn DOWNLike">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.90734 13.0684C8.81495 13.2532 8.62607 13.37 8.41947 13.37C7.82968 13.37 7.26404 13.1357 6.847 12.7186C6.42995 12.3016 6.19566 11.7359 6.19566 11.1461V10.4328H3.3844C3.18798 10.4328 2.99368 10.3909 2.81468 10.3101C2.63567 10.2292 2.47592 10.1112 2.34603 9.9639C2.21613 9.81657 2.11907 9.64329 2.06129 9.45558C2.00355 9.26803 1.98634 9.07035 2.01079 8.87564M2.01079 8.87564L2.64018 3.84057C2.68233 3.50603 2.84517 3.19784 3.09802 2.97478C3.35088 2.75172 3.67644 2.62859 4.01363 2.62849H13.035C13.2909 2.62849 13.5364 2.73016 13.7173 2.91114C13.8983 3.09213 14 3.33759 14 3.59353V8.20902C14 8.46496 13.8983 8.71043 13.7173 8.89141C13.5364 9.07239 13.2909 9.17406 13.035 9.17406H10.8545L8.90734 13.0684M11.0629 8.08315V3.7194H12.9091V8.08315H11.0629Z" fill="#8E8E8E"/>
</svg>
                            </span>
                        </div>
                    </div>
  </div>`)
  var  likeAndDislikeContentList = document.getElementsByClassName('likeAndDislikeContent');
  likeAndDislikeContentList[likeAndDislikeContentList.length-1].style.display = 'none'
  var chat_gpt_content_element = document.getElementsByClassName('chat_gpt_content')[0];
                        chat_gpt_content_element.scrollTop = chat_gpt_content_element.scrollHeight;
                        source.onerror = function(event) {
                            source.close(); // 关闭连接
                          console.error("EventSource failed:", event);
                          
                           $('.loding_request').last().remove();
                          var data = "I'm sorry, but I can only assist in English. Could you please rephrase your question in English?";
                          $('.chat_request_msg').last().append('<span>' + decodeURIComponent(data) + '</span>');
                          likeAndDislikeContentList[likeAndDislikeContentList.length-1].style.display = 'flex'
                          chat_gpt_clear_btn_disabled.disabled = false;
                          isSearchChat = false
                          if (chat_gpt_content_obj) {
                              chat_gpt_content_obj.push({
                                  ruler: 'chat_gpt_role',
                                  info: data
                              })
                          } else {
                              chat_gpt_content_obj = []
                              chat_gpt_content_obj.push({
                                  ruler: 'chat_gpt_role',
                                  info: data
                              })
                          }
                          sessionStorage.setItem('chat_local_questions', JSON.stringify(chat_gpt_content_obj));
                        };
                source.onmessage = function (event) {
                    var data = event.data; // 将返回的数据解析为JSON格式
                     $('.loding_request').last().remove();
                    if (data == '!!!') {
                        source.close(); // 关闭连接
                        likeAndDislikeContentList[likeAndDislikeContentList.length-1].style.display = 'flex'
                        chat_gpt_clear_btn_disabled.disabled = false
                        
                        isSearchChat = false
                        if (chat_gpt_content_obj) {
                            chat_gpt_content_obj.push({
                                ruler: 'chat_gpt_role',
                                info: chat_str
                            })
                        } else {
                            chat_gpt_content_obj = []
                            chat_gpt_content_obj.push({
                                ruler: 'chat_gpt_role',
                                info: chat_str
                            })
                        }
                       
                        sessionStorage.setItem('chat_local_questions', JSON.stringify(chat_gpt_content_obj));
                    } else {
                        chat_str += data
                        // 将数据展示到HTML上
                        $('.chat_request_msg').last().append('<span>' + decodeURIComponent(data) + '</span>');
                    }
                };
            }
    }
        document.getElementsByClassName("chat_gpt_send_btn")[0].addEventListener("click", function () {
            var searchValue = document.getElementsByClassName("chat_gpt_input")[0].innerText

            if(searchValue) {
                if (isSearchChat) return
                test()
                const saHelpCenterData = JSON.parse(sessionStorage.getItem("saHelpCenter"));
                if(saHelpCenterData.ChatGptOptions!=='stop' && !isNaN(saHelpCenterData.ChatGptOptions)){
                    saHelpCenterData.ChatGptOptions +=1 
                }
                sessionStorage.setItem("saHelpCenter", JSON.stringify({...saHelpCenterData,isAigcCustomerService:true,isActionChangeChatPage:true}));
                sa.track('aigc_send_user', {time:new Date().getTime(),content:searchValue});
                }
        });
        
    document.getElementsByClassName('chat_gpt_clear_btn')[0].addEventListener('click', function () {
      if(window.win_chat_gpt_clear_btn_disabled) return;
            const saHelpCenterData = JSON.parse(sessionStorage.getItem("saHelpCenter"));
            sessionStorage.setItem("saHelpCenter", JSON.stringify({...saHelpCenterData,isAigcCustomerService:true,isActionChangeChatPage:true}));
        if (isSearchChat) return
        sessionStorage.removeItem('chat_local_questions');
        chat_gpt_content_obj =[]
      
        if(language == 'zh-cn') {
    chat_gpt_content_obj.push({
      ruler:'chat_gpt_role',
      info:`Shoplazza 智能助理为您服务，请问有什么可以帮您呢？<div>
      <br/>
      <div>常见问题:</div>
      <div>
        <div><a href='https://helpcenter.shoplazza.com/hc/zh-cn/articles/4411988701337-%E7%BB%91%E5%AE%9A%E5%92%8C%E8%A7%A3%E6%9E%90%E5%9F%9F%E5%90%8D'>1.绑定和解析域名</a></div>
        <div><a href='https://helpcenter.shoplazza.com/hc/zh-cn/articles/19327923670937-%E4%B8%BB%E9%A2%98%E5%8D%A1%E7%89%87%E5%9B%BE%E7%89%87%E6%8E%A8%E8%8D%90%E5%B0%BA%E5%AF%B8'>2.主题卡片图片推荐尺寸</a></div>
        <div><a href='https://helpcenter.shoplazza.com/hc/zh-cn/articles/11942298685721-PayPal%E7%BB%91%E5%AE%9A%E6%8C%87%E5%8D%97#paypal--0-0'>3.绑定PayPal收款</a></div>
        <div><a href='https://helpcenter.shoplazza.com/hc/zh-cn/articles/4408584181145-%E8%AE%BE%E7%BD%AEGoogle-Ads%E8%BD%AC%E5%8C%96%E8%B7%9F%E8%B8%AA#-google-ads--0-0'>4.如何设置Google ads 转化追踪？</a></div>
        <div><a href='https://helpcenter.shoplazza.com/hc/zh-cn/sections/25791958482201-%E8%81%9A%E5%90%88Pixel'>5.添加pixel（像素）？</a></div>
        <div><a href='https://helpcenter.shoplazza.com/hc/zh-cn/articles/10951988666265-%E8%AE%BE%E7%BD%AE%E9%80%9A%E7%94%A8%E7%89%A9%E6%B5%81%E6%96%B9%E6%A1%88#h_01HFZKQDEEE2HY5T5BDHCPNVGM'>6.设置物流</a></div>
      </div>
    </div>`
    })
  } else {
    chat_gpt_content_obj.push({
      ruler:'chat_gpt_role',
      info:`Hello! I'm your Help Center virtual assistant. Here to guide you to the right answers and resources. What can I help you with today?`
    })
  }
         sessionStorage.setItem('chat_local_questions', JSON.stringify(chat_gpt_content_obj));
        $('.chat_gpt_content').text('')
        $('.chat_gpt_content').append(`<div class="oldChatRequest"></div>`)
        $('.oldChatRequest').append(`<div class="chat_request">
                      <div class="chat_request_body">
                              <div class="chat_request_content">
                                  <div class="chat_request_content_header">
                                      <div class="chat_request_icon"><img
                                      src="https://img.staticdj.com/oss/operation/09c141bdbd585b7f552bece8bbf25eb0.png" alt="">
                                      </div>
                                      <div class="chat_request_info">
                                          <span class="chat_request_msg">${decodeURIComponent(chat_gpt_content_obj[0].info)}</span>
                                      </div>
                                  </div>
                                  
                                  </div>
                                  <div class="unLikePosition" style="display: none;">
                                      <div class="unLikePostionBtnList">
                                          <div class="unLikePostionRegBtn">${language == 'zh-cn'?'问题已解决':'Problem solved'}</div>
                                          <div class="unLikePostionRejBtn">${language == 'zh-cn'?'问题未解决':'Problem not solved'}</div>
                                      </div>
                                      <div class="unLikePostionText">
                                          <textarea class="myTextarea" id="myTextarea" style="color: #000;" rows="4" cols="50" placeholder =" ${language == 'zh-cn'?'留言建议':'Message suggestions'}"></textarea>
                                      </div>
                                      <div class="unLikePostionTextLine"></div>
                                      <div class="unLikePostionSubmit">
                                          <div class="unLikePostionSubmitBtn">${language == 'zh-cn'?'提交':'Submit'}</div>
                                      </div>
                                  </div>
                      </div>
    
    <div class="likeAndDislikeContent">
      <div class="likeAndDislike">
          <span class="ChatLikeBtn UPLike">
              <svg class="UPLike" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 20 20" fill="none">
                  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.86582 3.6645C8.98132 3.43351 9.21741 3.2876 9.47566 3.2876C10.2129 3.2876 10.9199 3.58046 11.4413 4.10177C11.9626 4.62308 12.2554 5.33012 12.2554 6.06736V6.95901H15.7695C16.015 6.95908 16.2579 7.01138 16.4817 7.11244C16.7054 7.2135 16.9051 7.36101 17.0675 7.54517C17.2298 7.72933 17.3512 7.94593 17.4234 8.18058C17.4956 8.41501 17.5171 8.66211 17.4865 8.90549M17.4865 8.90549L16.6998 15.1993C16.6471 15.6175 16.4435 16.0027 16.1275 16.2816C15.8114 16.5604 15.4044 16.7143 14.983 16.7144H3.70631C3.38637 16.7144 3.07955 16.5873 2.85332 16.3611C2.62709 16.1349 2.5 15.8281 2.5 15.5081V9.73877C2.5 9.41884 2.62709 9.11201 2.85332 8.88579C3.07954 8.65956 3.38637 8.53247 3.70631 8.53247H6.43184L8.86582 3.6645M6.17141 9.8961V15.3508H3.86364V9.8961H6.17141Z" fill="#8E8E8E"/>
              </svg>
          </span>
          <span class="ChatUnLikeBtn DOWNLike">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16" fill="none">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M8.90734 13.0684C8.81495 13.2532 8.62607 13.37 8.41947 13.37C7.82968 13.37 7.26404 13.1357 6.847 12.7186C6.42995 12.3016 6.19566 11.7359 6.19566 11.1461V10.4328H3.3844C3.18798 10.4328 2.99368 10.3909 2.81468 10.3101C2.63567 10.2292 2.47592 10.1112 2.34603 9.9639C2.21613 9.81657 2.11907 9.64329 2.06129 9.45558C2.00355 9.26803 1.98634 9.07035 2.01079 8.87564M2.01079 8.87564L2.64018 3.84057C2.68233 3.50603 2.84517 3.19784 3.09802 2.97478C3.35088 2.75172 3.67644 2.62859 4.01363 2.62849H13.035C13.2909 2.62849 13.5364 2.73016 13.7173 2.91114C13.8983 3.09213 14 3.33759 14 3.59353V8.20902C14 8.46496 13.8983 8.71043 13.7173 8.89141C13.5364 9.07239 13.2909 9.17406 13.035 9.17406H10.8545L8.90734 13.0684M11.0629 8.08315V3.7194H12.9091V8.08315H11.0629Z" fill="#8E8E8E"/>
</svg>
          </span>
      </div>
    </div>
    
  </div>`)
    })
    {{!-- 点击人工客服 --}}
    document.getElementsByClassName('search_results_customer_text')[0].addEventListener('click', function () {
       var language = LotusUtils.getLocale();
          if(language == 'zh-cn') {
            ysf('open')
          }else {
            zE('messenger', 'open')
          }
        // 读取localStorage
        const saHelpCenterData = JSON.parse(sessionStorage.getItem("saHelpCenter"));
		var ChatGptOptions = saHelpCenterData.ChatGptOptions
		var setrtChatGptTime = saHelpCenterData.setrtChatGptTime
        var isAigcCustomerService = saHelpCenterData.isAigcCustomerService;
            sa.track('aigc_customer_service', {time:new Date().getTime()});
            const oldsaHelpCenterData = {...saHelpCenterData,isAigcCustomerService:true,isActionChangeChatPage:true};
            sessionStorage.setItem("saHelpCenter", JSON.stringify(oldsaHelpCenterData));
		if(ChatGptOptions!=='stop' && !isNaN(ChatGptOptions)) {
				 sa.track('aigc_enquiries', {time:new Date().getTime(),frequency:ChatGptOptions,start_time:setrtChatGptTime,end_time:new Date().getTime()});
				 saHelpCenterData.ChatGptOptions = 'stop'
                 const oldsaHelpCenterData = {...saHelpCenterData,isAigcCustomerService:true,isActionChangeChatPage:true};
                sessionStorage.setItem("saHelpCenter", JSON.stringify(oldsaHelpCenterData));
			}
    })
     var chat_gpt_input = document.querySelector('.chat_gpt_input');
    chat_gpt_input.addEventListener('focus',function(){
       var chat_gpt_input_content = document.querySelector('.chat_gpt_input_content');
        if(chat_gpt_input.innerText.length > 200) {
        chat_gpt_input_content.style.borderColor='#db393a'
      }else {
        chat_gpt_input_content.style.borderColor='#6e6e6e'
      }
    })
    chat_gpt_input.addEventListener('blur',function(){
       var chat_gpt_input_content = document.querySelector('.chat_gpt_input_content');
      if(chat_gpt_input.innerText.length > 200) {
        chat_gpt_input_content.style.borderColor='#db393a'
      }else {
        chat_gpt_input_content.style.borderColor='#e3e3e3'
      }
    })
    chat_gpt_input.addEventListener('input', function() {
       var chat_gpt_maxlength_tip = document.querySelector('.chat_gpt_maxlength_tip');
       var chat_gpt_send_icon_have = document.querySelector('.chat_gpt_send_icon_have');
       var chat_gpt_send_icon_none = document.querySelector('.chat_gpt_send_icon_none');
       var chat_gpt_input_content = document.querySelector('.chat_gpt_input_content');
        chat_gpt_maxlength_tip.style.display = 'block';
        if(chat_gpt_input.innerText.length > 0) {
          chat_gpt_send_icon_have.style.display = 'block';
          chat_gpt_send_icon_none.style.display = 'none';
        }else {
          chat_gpt_send_icon_have.style.display = 'none';
          chat_gpt_send_icon_none.style.display = 'block';
        }
      if(chat_gpt_input.innerText.length > 200) {
        chat_gpt_input.style.marginBottom='30px';
        window.main_search = true
        chat_gpt_input_content.style.borderColor='#db393a'

      }else {
          chat_gpt_maxlength_tip.style.display = 'none'
          chat_gpt_input.style.marginBottom='0px';
        window.main_search = false
        chat_gpt_input_content.style.borderColor='#6e6e6e'

      }
    });

chat_gpt_input.addEventListener('focus', function() {
    if (this.textContent == '') {
        this.classList.add('empty');
    }
});

chat_gpt_input.addEventListener('blur', function() {
    if (this.textContent == '') {
        this.classList.add('empty');
    } else {
        this.classList.remove('empty');
    }
});
chat_gpt_input.addEventListener('keydown', function(e) {
    if (e.key === 'Enter') {
        e.preventDefault(); // 阻止默认行为，例如换行
        if (e.ctrlKey) { // 如果按下了Ctrl键
            // 插入一个新的行
        } else { // 如果没有按下Ctrl键
            // 这里你可以自定义发送的行为
            document.getElementsByClassName("chat_gpt_send_btn")[0].click(); //例如，触发"发送"按钮的点击事件
            var chat_gpt_send_icon_have = document.querySelector('.chat_gpt_send_icon_have');
            var chat_gpt_send_icon_none = document.querySelector('.chat_gpt_send_icon_none');
            chat_gpt_send_icon_have.style.display = 'none';
          chat_gpt_send_icon_none.style.display = 'block'
        }
    }
});
</script>
<style>
.article_gpt_close_icon {
  display: none;
}
.article_gpt_open_icon,
.article_gpt_close_icon{
   z-index: 999;
  position: fixed;
  bottom: 0;
  right: 0;
  display: none;
}
.article_gpt_open_icon img,
.article_gpt_close_icon img {
  width: 120px;
}
.home_page_body {
  display: flex !important;
}

.home_chat {
  z-index: 999;

  display: none;
  position: fixed;
  width: 420px;
  right: 24px;
  z-index: 9999;
  top: 125px;
  bottom: 112px;
  height: calc(100% - 237px );
}
.search-results-chat {
  height: 100%;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
}
.chat_gpt_input_content {
         border: 1px solid #e3e3e3;
        align-items: center;
        position: relative;
        width: 100%;
        border-radius: 9px;
        padding: 10px 20px;
        padding-right: 0;

    }
    
.chat_gpt_input_content .chat_gpt_input {
        font-weight: 400;
        font-size: 14px;
        line-height: 150%;
        color: #0E0E0E;
        width: 100%;
        border: none;
          max-height: 156px;
      overflow-y: auto;
    }
    .chat_gpt_input_content .chat_gpt_send_btn {
       
       position: absolute;
       right: 20px;
       top: 50%;
       transform: translateY(-50%);
        cursor: pointer;
    }
@media (max-width: 767px) {
        .search_results_customer_text {
            margin-top: 20px;
        }
    }
    .chat_gpt_search {
        display: flex;
        margin: 0 20px;

    }
    .chat_gpt_search .chat_gpt_clear_btn {
        padding: 15px;
        margin-left: 20px;
        cursor: pointer;
    }

    .chat_gpt_search .chat_gpt_clear_btn:hover {
        background: #F3F4F5;
        border-radius: 4px;
    }
    .chat_gpt_search .chat_gpt_clear_btn img {
        width: 18px;
    }
    .chat_gpt_send_btn .chat_gpt_send_text {
        font-weight: 500;
        font-size: 16px;
        line-height: 150%;
        color: #FFFFFF;
        padding-right: 10px;
    }

    .chat_gpt_send_btn .chat_gpt_send_icon {
       display: flex;
       align-items: center;
       justify-content: center;
    }
    .chat_gpt_content {
      overflow-y: auto;
    }
    .chat_response {
      display: flex;
      justify-content: end;
      margin-bottom: 16px;
      margin-left: 22px;

     
    }
    .chat_response_msg {
      border-radius: 8px;
      background:  #0E0E0E;
      color: #FFF;
      font-size: 14px;
      font-weight: 400;
      padding: 8px 12px;
    }
    .chat_request_content_header {
      display: flex;
    }
    .chat_request_icon {
      width: 32px;
      height: 32px;
      margin-right: 10px;
    }
    .chat_request_info {
      flex: 1;
      border-radius: 8px;
      background: #F4F5F7;
      color: #0E0E0E;
      font-size: 14px;
      padding: 8px 12px;
    }
    .chat_request {
      margin-bottom: 16px;
      margin-right: 22px;

    }
    .likeAndDislikeContent {
      margin-top: 8px;
      display: flex;
      justify-content: end;
    }
    .unLikePosition {
      border-radius: 8px;
      background: #F4F5F7;
      padding: 16px;
      padding-bottom: 10px;
      margin: 8px 0 8px 42px;
    }
    .unLikePostionRegBtn {
        flex: 1;
        text-align: center;
        padding: 12px;
        color: #000;
        font-size: 14px;
        font-weight: 400;
        border-radius: 5px;
        line-height: 150%; 
        border: 1px solid  #E3E3E3;
        background:  #fff;
        margin-bottom: 8px;
        cursor: pointer;
    }
    .unLikePostionRejBtn {
        flex: 1;
        text-align: center;
        padding: 12px;
        color: #000;
        font-size: 14px;
        font-weight: 400;
        border-radius: 5px;
        line-height: 150%; 
        border: 1px solid  #E3E3E3;
        background:  #fff;
        margin-bottom: 8px;
        cursor: pointer;
    }
    .unLikePostionText {
        margin-bottom: 12px;
    }
   
    .unLikePostionTextLine {
        width: calc(100% + 32px );
        transform: translateX(-16px);
        height: 1px;
        background-color: #e3e3e3;

    }
    .unLikePostionSubmit {
        border-radius: 4px;
        background: #4669BE;
        color: #FFF;
        font-size: 16px;
        font-weight: 500;
        text-align: center;
        padding: 12px;
        margin: 8px 0px 0px;
    }
  .myTextarea {
    border: 1px solid #e3e3e3;
  }
  .likeAndDislike {
    height: 16px;
  }
  .ChatLikeBtn,
  .ChatUnLikeBtn {
    display: inline-flex;
  }
  @keyframes bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-5px); }
}
  .loding_request_icon_1 {
    display: inline-block;
    animation: bounce 1s infinite;
    animation-direction: alternate;
  }
  .loding_request_icon_2{
    display: inline-block;
    animation: bounce 1s infinite;
    animation-direction: alternate;
    animation-delay: 0.1s;
  }
  .loding_request_icon_3{
    display: inline-block;
    animation: bounce 1s infinite;
    animation-direction: alternate;
    animation-delay: 0.3s;
  }
  .unLikePostionRegBtn:hover {
background-color: #E7F0FF !important;
border: 1px solid rgba(70, 105, 190, .5) !important;
}
.unLikePostionRejBtn:hover{
  background-color: #E7F0FF !important;
border: 1px solid rgba(70, 105, 190, .5) !important;
}

#aaa {
  resize: none;
  height: auto;
}

.chat_gpt_input {
  width: 100%;
  padding-right:  45px ;

   word-break:break-word;
}

.chat_gpt_input:empty:before {
    content: attr(data-placeholder);
    color: #888;
}

.chat_gpt_input:focus:before {
    content: "";
}
.chat_gpt_maxlength_tip {
  display: none;
  color: #DB393A;
  font-size: 14px;
  font-style: normal;
  font-weight: 400;
line-height: 150%; /* 21px */

}
.chat_gpt_input:focus-visible {
    outline: #DB393A auto 0px;
}
.chat_gpt_maxlength_tip {
  position: absolute;
   transform: translate(0px ,calc(-100%  ));
}
.chat_gpt_send_icon_have {
  display: none;
}
.chat_gpt_content::-webkit-scrollbar {
    display: none;
}
.ChatLikeBtn:hover,
.ChatUnLikeBtn:hover{
  cursor: pointer;
}
.unLikePostionSubmit:hover{
  cursor: pointer;
}
.chat_gpt_input{
  outline: none;
}
.chat_request_msg {
  word-break: break-all;
}
  .block-list-title {
text-align: center;
  }
  .chat_request_msg {
  word-break: break-word;
}
 .article_gpt_open_icon {
    background-color: #ff0000;
    border-radius: 8px;
     right: 30px;
    bottom: 24px;
    width: 60px;
  }
<<<<<<< HEAD
.page-header--title {
	text-align: left; 
  padding: 0 120px;
  margin-top: 80px;
  margin-left: -40px;
}
.page-header--title>h1 {
  color: var(--Color-1, #0E0E0E);
  font-family: "HarmonyOS Sans SC";
  font-weight: 700;
  line-height: 150%;
  margin: 0px 0px 12px 0px;
  }
.page-header--title>p {
  max-width: none;
  margin: 0px;
}

.section > .section__title {
  color: var(--Color-1, #0E0E0E);
  font-family: "HarmonyOS Sans SC";
  font-size: 18px;
  font-style: normal;
  font-weight: 500;
  line-height: 150%; /* 27px */
  margin-bottom: 20px;
  }
.article-list-item > a {
  font-family: "PingFang SC";
  color: #222;
  font-size: 14px;
  font-style: normal;
  font-weight: 500;
  line-height: 21px; /* 150% */
}
.article-list-item > a:hover {
	text-decoration-line: underline;
	text-decoration-style: solid;	
}
.extra-btn {
	background: #222;
  color: #fff;
  width: fit-content;
  display: flex;
  padding: 11px 24px;
  justify-content: center;
  align-items: center;
  gap: 10px;
	border-radius: 4px;
}
@media (max-width: 767px) {
  .page-header--title {
  	padding: 0px;
  	margin-left: 0px;
  }
	.page-header--title>p {
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
  }
  .extra-btn {
  	margin-bottom: 40px;
  }
}
@media (min-width: 768px) {
  .around-gap {
		padding: 0px 96px 0px 96px;  
	}
}
.extra-font--style {
	color: #222;
	font-family: "PingFang SC";
  font-style: normal;
	font-weight: 500;
}
=======
>>>>>>> 36e0bca9382d2b53e24414367b17228cdeb5653e
</style>
